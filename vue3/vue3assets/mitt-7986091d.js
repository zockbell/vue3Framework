import{r as w,d as ne,o as x,c as J,a as h,h as I,t as T,u as P,i as z,F as ae,b as me,j as _e,k as ge,l as ye,m as he,q as oe,s as we,v as se,w as ie,x as le,y as R,z as A,A as Oe,B as be,C as Pe,D as Se,E as W,e as $e,G as Ee,H as Ae}from"./index-46877835.js";function je(e){return{all:e=e||new Map,on:function(t,r){var n=e.get(t);n?n.push(r):e.set(t,[r])},off:function(t,r){var n=e.get(t);n&&(r?n.splice(n.indexOf(r)>>>0,1):e.set(t,[]))},emit:function(t,r){var n=e.get(t);n&&n.slice().map(function(a){a(r)}),(n=e.get("*"))&&n.slice().map(function(a){a(t,r)})}}}const Ce=je();function ke(){let e=w(1),t=w(!1);return{num:e,fav:t,favBtn:()=>{e.value+=1,t.value=!0,setTimeout(()=>{t.value=!1},2e3)}}}const De={style:{height:"600px"}},Ne={style:{border:"1px solid blue"}},Me=ne({__name:"A",setup(e){const{num:t,fav:r,favBtn:n}=ke();let a=w("A组件的内容");const o=()=>{Ce.emit("send",a)},s=[{id:1,name:"zhangsan",age:18},{id:2,name:"lisi",age:30},{id:3,name:"wangwu",age:20}];return(l,c)=>(x(),J("div",De,[h("div",Ne,[I(T(P(t))+" ",1),h("button",{onClick:c[0]||(c[0]=(...p)=>P(n)&&P(n)(...p))},T(P(r)?"收藏中...":"收藏"),1)]),h("div",null,[h("p",null,"这是A组件--"+T(P(a)),1),h("header",null,[z(l.$slots,"header")]),h("main",null,[(x(),J(ae,null,me(s,p=>h("div",{key:p.id},[z(l.$slots,"default",{data:p})])),64))]),h("footer",null,[z(l.$slots,"footer")])]),h("button",{onClick:o},"按钮")]))}});function H(e){return ge()?(ye(e),!0):!1}function j(e){return typeof e=="function"?e():P(e)}const Ve=typeof window<"u",Le=e=>e!=null,D=()=>{};function Fe(e,t){function r(...n){return new Promise((a,o)=>{Promise.resolve(e(()=>t.apply(this,n),{fn:t,thisArg:this,args:n})).then(a).catch(o)})}return r}const ue=e=>e();function Ie(e=ue){const t=w(!0);function r(){t.value=!1}function n(){t.value=!0}const a=(...o)=>{t.value&&e(...o)};return{isActive:oe(t),pause:r,resume:n,eventFilter:a}}function ce(...e){if(e.length!==1)return he(...e);const t=e[0];return typeof t=="function"?oe(we(()=>({get:t,set:D}))):w(t)}function Te(e,t=!0){se()?ie(e):t?e():le(e)}function xe(e=!1,t={}){const{truthyValue:r=!0,falsyValue:n=!1}=t,a=_e(e),o=w(e);function s(l){if(arguments.length)return o.value=l,o.value;{const c=j(r);return o.value=o.value===c?j(n):c,o.value}}return a?s:[o,s]}var q=Object.getOwnPropertySymbols,Be=Object.prototype.hasOwnProperty,Re=Object.prototype.propertyIsEnumerable,ze=(e,t)=>{var r={};for(var n in e)Be.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&q)for(var n of q(e))t.indexOf(n)<0&&Re.call(e,n)&&(r[n]=e[n]);return r};function We(e,t,r={}){const n=r,{eventFilter:a=ue}=n,o=ze(n,["eventFilter"]);return R(e,Fe(a,t),o)}var Je=Object.defineProperty,He=Object.defineProperties,qe=Object.getOwnPropertyDescriptors,B=Object.getOwnPropertySymbols,fe=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable,K=(e,t,r)=>t in e?Je(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ke=(e,t)=>{for(var r in t||(t={}))fe.call(t,r)&&K(e,r,t[r]);if(B)for(var r of B(t))de.call(t,r)&&K(e,r,t[r]);return e},Qe=(e,t)=>He(e,qe(t)),Ge=(e,t)=>{var r={};for(var n in e)fe.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&B)for(var n of B(e))t.indexOf(n)<0&&de.call(e,n)&&(r[n]=e[n]);return r};function Ue(e,t,r={}){const n=r,{eventFilter:a}=n,o=Ge(n,["eventFilter"]),{eventFilter:s,pause:l,resume:c,isActive:p}=Ie(a);return{stop:We(e,t,Qe(Ke({},o),{eventFilter:s})),pause:l,resume:c,isActive:p}}function N(e){var t;const r=j(e);return(t=r==null?void 0:r.$el)!=null?t:r}const C=Ve?window:void 0;function Q(...e){let t,r,n,a;if(typeof e[0]=="string"||Array.isArray(e[0])?([r,n,a]=e,t=C):[t,r,n,a]=e,!t)return D;Array.isArray(r)||(r=[r]),Array.isArray(n)||(n=[n]);const o=[],s=()=>{o.forEach(f=>f()),o.length=0},l=(f,u,O,m)=>(f.addEventListener(u,O,m),()=>f.removeEventListener(u,O,m)),c=R(()=>[N(t),j(a)],([f,u])=>{s(),f&&o.push(...r.flatMap(O=>n.map(m=>l(f,O,m,u))))},{immediate:!0,flush:"post"}),p=()=>{c(),s()};return H(p),p}function Xe(){const e=w(!1);return se()&&ie(()=>{e.value=!0}),e}function pe(e){const t=Xe();return A(()=>(t.value,!!e()))}function Ye(e,t={}){const{window:r=C}=t,n=pe(()=>r&&"matchMedia"in r&&typeof r.matchMedia=="function");let a;const o=w(!1),s=()=>{a&&("removeEventListener"in a?a.removeEventListener("change",l):a.removeListener(l))},l=()=>{n.value&&(s(),a=r.matchMedia(ce(e).value),o.value=!!(a!=null&&a.matches),a&&("addEventListener"in a?a.addEventListener("change",l):a.addListener(l)))};return be(l),H(()=>s()),o}const L=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},F="__vueuse_ssr_handlers__",Ze=et();function et(){return F in L||(L[F]=L[F]||{}),L[F]}function ve(e,t){return Ze[e]||t}function tt(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}var rt=Object.defineProperty,G=Object.getOwnPropertySymbols,nt=Object.prototype.hasOwnProperty,at=Object.prototype.propertyIsEnumerable,U=(e,t,r)=>t in e?rt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,X=(e,t)=>{for(var r in t||(t={}))nt.call(t,r)&&U(e,r,t[r]);if(G)for(var r of G(t))at.call(t,r)&&U(e,r,t[r]);return e};const ot={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},Y="vueuse-storage";function st(e,t,r,n={}){var a;const{flush:o="pre",deep:s=!0,listenToStorageChanges:l=!0,writeDefaults:c=!0,mergeDefaults:p=!1,shallow:f,window:u=C,eventFilter:O,onError:m=i=>{console.error(i)}}=n,d=(f?Oe:w)(t);if(!r)try{r=ve("getDefaultStorage",()=>{var i;return(i=C)==null?void 0:i.localStorage})()}catch(i){m(i)}if(!r)return d;const _=j(t),$=tt(_),b=(a=n.serializer)!=null?a:ot[$],{pause:M,resume:k}=Ue(d,()=>g(d.value),{flush:o,deep:s,eventFilter:O});return u&&l&&(Q(u,"storage",S),Q(u,Y,V)),S(),d;function g(i){try{if(i==null)r.removeItem(e);else{const v=b.write(i),y=r.getItem(e);y!==v&&(r.setItem(e,v),u&&u.dispatchEvent(new CustomEvent(Y,{detail:{key:e,oldValue:y,newValue:v,storageArea:r}})))}}catch(v){m(v)}}function E(i){const v=i?i.newValue:r.getItem(e);if(v==null)return c&&_!==null&&r.setItem(e,b.write(_)),_;if(!i&&p){const y=b.read(v);return typeof p=="function"?p(y,_):$==="object"&&!Array.isArray(y)?X(X({},_),y):y}else return typeof v!="string"?v:b.read(v)}function V(i){S(i.detail)}function S(i){if(!(i&&i.storageArea!==r)){if(i&&i.key==null){d.value=_;return}if(!(i&&i.key!==e)){M();try{d.value=E(i)}catch(v){m(v)}finally{i?le(k):k()}}}}}function it(e){return Ye("(prefers-color-scheme: dark)",e)}var lt=Object.defineProperty,Z=Object.getOwnPropertySymbols,ut=Object.prototype.hasOwnProperty,ct=Object.prototype.propertyIsEnumerable,ee=(e,t,r)=>t in e?lt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ft=(e,t)=>{for(var r in t||(t={}))ut.call(t,r)&&ee(e,r,t[r]);if(Z)for(var r of Z(t))ct.call(t,r)&&ee(e,r,t[r]);return e};function dt(e={}){const{selector:t="html",attribute:r="class",initialValue:n="auto",window:a=C,storage:o,storageKey:s="vueuse-color-scheme",listenToStorageChanges:l=!0,storageRef:c,emitAuto:p,disableTransition:f=!0}=e,u=ft({auto:"",light:"light",dark:"dark"},e.modes||{}),O=it({window:a}),m=A(()=>O.value?"dark":"light"),d=c||(s==null?ce(n):st(s,n,o,{window:a,listenToStorageChanges:l})),_=A(()=>d.value==="auto"?m.value:d.value),$=ve("updateHTMLAttrs",(g,E,V)=>{const S=typeof g=="string"?a==null?void 0:a.document.querySelector(g):N(g);if(!S)return;let i;if(f&&(i=a.document.createElement("style"),i.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),a.document.head.appendChild(i)),E==="class"){const v=V.split(/\s/g);Object.values(u).flatMap(y=>(y||"").split(/\s/g)).filter(Boolean).forEach(y=>{v.includes(y)?S.classList.add(y):S.classList.remove(y)})}else S.setAttribute(E,V);f&&(a.getComputedStyle(i).opacity,document.head.removeChild(i))});function b(g){var E;$(t,r,(E=u[g])!=null?E:g)}function M(g){e.onChanged?e.onChanged(g,b):b(g)}R(_,M,{flush:"post",immediate:!0}),Te(()=>M(_.value));const k=A({get(){return p?d.value:_.value},set(g){d.value=g}});try{return Object.assign(k,{store:d,system:m,state:_})}catch{return k}}var pt=Object.defineProperty,vt=Object.defineProperties,mt=Object.getOwnPropertyDescriptors,te=Object.getOwnPropertySymbols,_t=Object.prototype.hasOwnProperty,gt=Object.prototype.propertyIsEnumerable,re=(e,t,r)=>t in e?pt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,yt=(e,t)=>{for(var r in t||(t={}))_t.call(t,r)&&re(e,r,t[r]);if(te)for(var r of te(t))gt.call(t,r)&&re(e,r,t[r]);return e},ht=(e,t)=>vt(e,mt(t));function wt(e={}){const{valueDark:t="dark",valueLight:r=""}=e,n=dt(ht(yt({},e),{onChanged:(o,s)=>{var l;e.onChanged?(l=e.onChanged)==null||l.call(e,o==="dark",s,o):s(o)},modes:{dark:t,light:r}}));return A({get(){return n.value==="dark"},set(o){const s=o?"dark":"light";n.system.value===s?n.value="auto":n.value=s}})}function Ot(e,t,r={}){const{root:n,rootMargin:a="0px",threshold:o=.1,window:s=C,immediate:l=!0}=r,c=pe(()=>s&&"IntersectionObserver"in s),p=A(()=>{const d=j(e);return(Array.isArray(d)?d:[d]).map(N).filter(Le)});let f=D;const u=w(l),O=c.value?R(()=>[p.value,N(n),u.value],([d,_])=>{if(f(),!u.value||!d.length)return;const $=new IntersectionObserver(t,{root:N(_),rootMargin:a,threshold:o});d.forEach(b=>b&&$.observe(b)),f=()=>{$.disconnect(),f=D}},{immediate:l,flush:"post"}):D,m=()=>{f(),O(),u.value=!1};return H(m),{isSupported:c,isActive:u,pause(){f(),u.value=!1},resume(){u.value=!0},stop:m}}const bt=h("div",{class:"main"},"这里是main内容",-1),Pt=ne({__name:"mitt",setup(e){const t=Pe(()=>Ae(()=>import("./B-7c2bf161.js"),["vue3assets/B-7c2bf161.js","vue3assets/index-46877835.js","vue3assets/index-f046ca62.css","vue3assets/B-f1210758.css"])),r=w(null),n=w(!1);Ot(r,([{isIntersecting:s}],l)=>{console.log(s),s&&(n.value=s)});const a=wt({selector:"body",valueDark:"dark",valueLight:"light"}),o=xe(a);return(s,l)=>(x(),J(ae,null,[h("div",null,[Se(Me,null,{header:W(()=>[I(" 这里是header内容")]),default:W(({data:c})=>[I(T(c),1)]),footer:W(()=>[I(" 这里是footer内容 ")]),_:1}),h("div",{ref_key:"target",ref:r},[P(n)?(x(),$e(P(t),{key:0})):Ee("",!0)],512)]),bt,h("div",{onClick:l[0]||(l[0]=c=>P(o)())},"皮肤切换")],64))}});const $t=Object.freeze(Object.defineProperty({__proto__:null,default:Pt},Symbol.toStringTag,{value:"Module"}));export{Ce as e,$t as m};
